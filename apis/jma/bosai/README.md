<!-- This file is automatically generated from config.md -->
# @api-types/jma-bosai 気象庁防災気象情報API

<br />
<div align="center">
  <img src="https://aspida.github.io/api-types/assets/jma/bosai.jpg" alt="@api-types/jma-bosai 気象庁防災気象情報API" />
</div>
<br />

> [気象庁防災気象情報API](https://www.jma.go.jp/bosai/map.html#5/36.138/137.285/&elem=ir&contents=himawari) - 気象庁ホームページから防災気象情報を取得するAPI

<a href="https://www.npmjs.com/package/@api-types/jma-bosai">
  <img src="https://img.shields.io/npm/v/@api-types/jma-bosai" alt="npm version" />
</a>
<a href="https://www.npmjs.com/package/@api-types/jma-bosai">
  <img src="https://img.shields.io/npm/dm/@api-types/jma-bosai" alt="npm download" />
</a>
<br />
<br />

## Getting Started

- Using [npm](https://www.npmjs.com/):

  ```sh
  $ npm install @api-types/jma-bosai @aspida/axios axios
  ```

- Using [Yarn](https://yarnpkg.com/):

  ```sh
  $ yarn add @api-types/jma-bosai @aspida/axios axios
  ```

`utils/apiClient.ts`
```ts
import api from "@api-types/jma-bosai"
import aspida from '@aspida/axios'

export const apiClient = api(aspida())
```
<br />

## Usage

参考サイト：https://qiita.com/e_toyoda/items/7a293313a725c4d306c0

`utils/himawariClient.ts`
```ts
import { apiClient } from "./apiClient"

export const himawariClient = apiClient.himawari.data.satimg
```

`index.ts`
```ts
import { BAND_PROD } from '@api-types/jma-bosai'
import { himawariClient } from "./utils/himawariClient"

;(async () => {
  const targetTimes = await himawariClient.targetTimes_fd_json.$get()
  console.log(targetTimes) // [{"basetime" : "20210224190000", "validtime" : "20210224190000"}...]

  const img = new Image()
  img.src = himawariClient
    ._basetime(targetTimes[0].basetime).fd._validtime(targetTimes[0].validtime)._band_prod(BAND_PROD.VISIBLE)._z(3)._x(7)._y_jpg(3).$path()
  document.body.appendChild(img)
})()
```

<br />

## Endpoints

baseURL: https://www.jma.go.jp/bosai
<br />

<details>
<summary><b>/himawari/data/satimg/_basetime/fd/_validtime/_band_prod/_z@number/_x@number/_y@number.jpg</b></summary>
<br />

```ts
/**
 * フルディスク画像API
 *
 * _basetime: 基準時刻 TargetTime['basetime']
 * _validtime: 撮影時刻 TargetTime['validtime']
 * _band_prod: 画像種別 BAND_PROD
 * _z: ズームレベル 3-5
 * _x: タイルのX座標
 * _y: タイルのY座標
 */
type Methods = {
  /** フルディスク画像をJPGで取得 */
  get: {
    resBody: ArrayBuffer
  }
}
```
</details>
<details>
<summary><b>/himawari/data/satimg/_basetime/jp/_validtime/_band_prod/6/_x@number/_y@number.jpg</b></summary>
<br />

```ts
/**
 * 日本付近画像API
 *
 * _basetime: 基準時刻 TargetTime['basetime']
 * _validtime: 撮影時刻 TargetTime['validtime']
 * _band_prod: 画像種別 BAND_PROD
 * _x: タイルのX座標
 * _y: タイルのY座標
 */
type Methods = {
  /** 日本付近画像をJPGで取得 */
  get: {
    resBody: ArrayBuffer
  }
}
```
</details>
<details>
<summary><b>/himawari/data/satimg/targetTimes_fd.json</b></summary>
<br />

```ts
/** 撮影時刻API */
type Methods = {
  /** 撮影時刻一覧を取得 */
  get: {
    resBody: TargetTime[]
  }
}
```
</details>
<details>
<summary><b>/himawari/data/satimg/targetTimes_jp.json</b></summary>
<br />

```ts
/** 日本付近の撮影時刻API */
type Methods = {
  /** 日本付近の撮影時刻一覧を取得 */
  get: {
    resBody: TargetTime[]
  }
}
```
</details>
<details>
<summary><b>/jmatile/data/nowc/_basetime/none/_validtime/surf/hrpns/_z@number/_x@number/_y@number.png</b></summary>
<br />

```ts
/**
 * 降水ナウキャスト画像API
 *
 * _basetime: 基準時刻 TargetTime['basetime']
 * _validtime: 実況時間または予報時刻 TargetTime['validtime']
 * _z: ズームレベル 4-10
 * _x: タイルのX座標
 * _y: タイルのY座標
 */
type Methods = {
  /** 降水ナウキャスト画像をJPGで取得 */
  get: {
    resBody: ArrayBuffer
  }
}
```
</details>
<details>
<summary><b>/jmatile/data/nowc/targetTimes_N1.json</b></summary>
<br />

```ts
/** 降水ナウキャストの実況時刻API */
type Methods = {
  /** 降水ナウキャストの実況時刻一覧を取得 */
  get: {
    resBody: TargetTime[]
  }
}
```
</details>
<details>
<summary><b>/jmatile/data/nowc/targetTimes_N2.json</b></summary>
<br />

```ts
/** 降水ナウキャストの予報時刻API */
type Methods = {
  /** 降水ナウキャストの予報時刻一覧を取得 */
  get: {
    resBody: TargetTime[]
  }
}
```
</details>
<br />

## Types

<details>
<summary><b>TargetTime</b></summary>
<br />

```ts
/** 撮影時刻 */
type TargetTime = {
  basetime: string
  validtime: string
}
```
</details>
<br />

## Constants

<details>
<summary><b>BAND_PROD</b></summary>
<br />

```ts
/** 画像種別 */
const BAND_PROD = {
  /** 可視画像 */
  VISIBLE: 'B13/TBB',
  /** 赤外画像 */
  INFRARED: 'B03/ALBD',
  /** 水蒸気画像 */
  WATER_VAPOR: 'B08/TBB',
  /** トゥルーカラー再現画像 */
  TRUE_COLOR: 'REP/ETC',
  /** 雲頂強調画像 */
  CLOUD_TOP: 'SND/ETC'
} as const
```
</details>
<br />

## License

@api-types/jma-bosai is licensed under a [MIT License](https://github.com/aspida/api-types/blob/master/LICENSE).
